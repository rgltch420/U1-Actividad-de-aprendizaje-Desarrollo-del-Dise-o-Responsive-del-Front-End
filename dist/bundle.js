(()=>{var t=JSON.parse(localStorage.getItem("cart"))||[],e=document.querySelectorAll(".add-to-cart"),n=document.querySelector(".cart-items"),o=document.getElementById("lunarModal"),c=document.getElementById("modalMessage"),r=document.getElementById("continueShopping"),a=document.getElementById("goToCart"),i=document.querySelector(".product-carousel"),l=document.querySelector(".carousel-control.left"),d=document.querySelector(".carousel-control.right"),u=window.location.pathname.includes("cart.html");function m(e,n){t.push({name:e,price:n}),localStorage.setItem("cart",JSON.stringify(t)),function(t){c.textContent="".concat(t," se ha añadido correctamente al carrito. ¿Desea seguir comprando?"),o.style.display="block"}(e)}document.addEventListener("DOMContentLoaded",(function(){var e;u&&function(){if(n.innerHTML="",0===t.length)return void(n.innerHTML="<p>No hay productos en el carrito.</p>");t.forEach((function(t,e){var o=document.createElement("div");o.classList.add("cart-item"),o.innerHTML="\n            <p>".concat(t.name," - ").concat(t.price,'</p>\n            <button class="remove-from-cart" data-index="').concat(e,'">Eliminar</button>\n        '),n.appendChild(o)})),document.querySelectorAll(".remove-from-cart").forEach((function(t){t.addEventListener("click",(function(t){var e=t.target.getAttribute("data-index");removeProductFromCart(e)}))}))}(),e=0,d.addEventListener("click",(function(){e<=i.scrollWidth-i.clientWidth&&i.scrollTo({top:0,left:e+=i.clientWidth/2,behavior:"smooth"})})),l.addEventListener("click",(function(){e>0&&i.scrollTo({top:0,left:e-=i.clientWidth/2,behavior:"smooth"})}))})),e.forEach((function(t){t.addEventListener("click",(function(t){var e=t.target.parentElement;m(e.querySelector("h3").textContent,e.querySelector("p").textContent)}))})),r.addEventListener("click",(function(){o.style.display="none"})),a.addEventListener("click",(function(){window.location.href="cart.html"}))})();